#!/usr/bin/env bash

function exists()
{
  command -v "$1" >/dev/null 2>&1
}

if ! exists ruby; then
  echo 'Your system does not have rbenv installed'
  exit 1
fi

if ! exists rbenv; then
  echo 'Your system does not have rbenv installed'
fi

if exists rbenv; then
  export RBENV_VERSION=2.7.2
fi

export HOWBREW_TAPS_DIRECTORY=/usr/local/Homebrew/Library/Taps
export PWD_REPOSITORY_NAME=joel/homebrew-bam-lookup

bundle exec ruby $HOWBREW_TAPS_DIRECTORY/$PWD_REPOSITORY_NAME/bin/lookup.rb $@

if exists rbenv; then
  export RBENV_VERSION=
fi
